@use '../base/variables' as *;

:root {
  --rail-width: 58px;   // Exakt dein Maß für die Bündigkeit
  --drawer-width: 320px;
}

// --- HAUPT-LAYOUT (Grid System) ---
.content-area {
    display: grid;
    // Spalte 1: Gitter (flexibel), Spalte 2: Sidebar (fest/auto)
    grid-template-columns: 1fr auto;
    height: calc(100vh - 60px); // Navbar-Höhe abgezogen
    overflow: hidden;
}

.grid-viewport {
    @apply h-full w-full relative overflow-hidden;
    min-width: 0; // Erlaubt dem Gitter das Schrumpfen
}

// --- SIDEBAR ORGANISM ---
.sidebar-container {
    display: flex;
    flex-direction: row; // Rail links, Drawer rechts
    @apply h-full shrink-0 relative text-white bg-bg-main;
    
    // Animation der Gesamtbreite reserviert Platz im Grid
    transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: width;
    overflow: hidden; 

    // Status: Geschlossen
    width: var(--rail-width);

    &.sidebar-open {
        // Status: Offen (378px Gesamtbreite)
        width: calc(var(--drawer-width) + var(--rail-width));
    }
}

// 1. NAVIGATION RAIL (Der Anker)
.sidebar-rail {
    @apply h-full bg-rail-bg flex flex-col items-center py-lg gap-md 
           border-l border-white/5 shrink-0;
    width: var(--rail-width);
    padding-left: 5px;
    padding-right: 5px;
    z-index: 20;

    .rail-btn {
        @apply transition-all duration-200 text-muted opacity-60 flex items-center justify-center rounded-industrial;
        // Große Icons in der schmalen Leiste
        width: 48px;
        height: 48px;
        
        svg {
            width: 24px;
            height: 24px;
        }

        &.active { 
            @apply opacity-100 text-info bg-white/5;
        }
        
        &:hover { @apply opacity-100 text-white bg-white/10; }
    }

    .toggle-btn {
        @apply mt-auto text-2xl font-bold py-md border-t border-white/5 w-full text-center text-muted;
        cursor: pointer;
        &:hover { @apply text-white; }
    }
}

// 2. CONTENT DRAWER (Ganz rechts)
.sidebar-content {
    @apply h-full bg-drawer-bg flex flex-col shadow-2xl shrink-0;
    width: var(--drawer-width);
    min-width: var(--drawer-width); 
    border-l: 1px solid rgba(255, 255, 255, 0.05);

    .sidebar-tab-header {
        @apply bg-black/20 border-b border-white/5 shrink-0;
        h2 { @apply px-lg py-5 text-[1.1rem] font-bold text-info m-0 whitespace-nowrap; }
    }
}