@use "sass:color";
@use '../base/variables' as *;

// --- MODAL ORGANISM ---

.modal-overlay {
    @apply fixed inset-0 w-screen h-screen bg-black/80 backdrop-blur-md 
           flex justify-center items-center z-[2000] p-4;
    
    animation: modalFadeIn 0.3s ease-out;
}

.modal-content {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.5rem !important; 

    @apply bg-nav-bg/95 border border-info/30 p-lg rounded-xl 
           w-full max-w-[420px] max-h-[90vh]
           shadow-2xl shadow-black/50 text-white relative;

    h3 {
        @apply m-0 text-center border-b border-white/10 pb-4 
               font-bold uppercase tracking-widest text-info;
        font-size: 1.3rem;
    }

    .modal-body {
        @apply overflow-y-auto pr-2 flex flex-col;
        
        &::-webkit-scrollbar { @apply w-1; }
        &::-webkit-scrollbar-track { @apply bg-transparent; }
        &::-webkit-scrollbar-thumb { @apply bg-white/10 rounded-full; }
    }

    .settings-form {
        display: flex !important;
        flex-direction: column !important;
        gap: 0.5rem !important; 
        @apply w-full;
    }

    // --- SIGNAL BAR (RESTAURIERT) ---
    .signal-bar-row {
        display: flex !important;
        align-items: center !important;
        width: 100% !important;
        @apply mt-2;

        .signal-bar-container {
            flex-grow: 1 !important; 
            @apply relative h-4 bg-black/10 rounded-full overflow-hidden;
        }

        .signal-value {
            min-width: 42px !important;
            text-align: right !important;
            font-weight: normal !important;
            @apply opacity-100;
        }
    }

    // --- BUTTONS ---
    .btn-full {
        display: block !important;
        width: 100% !important;
        @apply py-3 px-6 rounded-industrial-sm font-black 
               transition-all duration-200 text-center border-none cursor-pointer
               text-[0.95rem] uppercase tracking-wider shadow-lg;
        
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.4);

        &:hover:not(:disabled) {
            @apply -translate-y-1 brightness-110;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.5);
        }

        &:active:not(:disabled) { @apply scale-[0.98]; }
        &:disabled { @apply opacity-30 cursor-not-allowed shadow-none; }
    }

    .btn-ftf { @apply bg-warning text-black !important; }

    .btn-secondary { 
        @apply bg-white/5 text-white border border-white/10 !important; 
        &:hover { @apply bg-white/10 border-white/20; }
    }

    // --- BADGES ---
    .agent-id-badge {
        @apply bg-white/5 text-info font-mono font-black uppercase text-[0.9rem] 
               py-2 px-3 rounded-industrial-sm text-center border border-info/30;
        letter-spacing: 1px;
        text-shadow: 0 0 10px rgba(99, 179, 237, 0.3);
    }

    // --- HARDWARE STATUS ---
    .hardware-status-row {
        display: flex !important;
        @apply gap-4 w-full mb-2;
        
        .status-column {
            @apply flex-1 flex flex-col;
            
            // Hier bleibt der Text fett f√ºr die Lesbarkeit der Hardware-Stati
            .status-indicator {
                @apply flex items-center gap-2 bg-white/5 p-2 rounded-lg border border-white/5;
            }
        }
    }
}

@keyframes modalFadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}