@use '../base/variables' as *;

// --- NAVBAR ORGANISM ---

.navbar.blue-look {
    @apply h-nav bg-nav-bg text-white flex items-center justify-between 
           px-lg shadow-md z-[1000] relative;
    
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);

    .navbar-section {
        @apply flex items-center z-10 relative transition-all duration-200;
        padding: 0.25rem 0.5rem;
        border-radius: 8px;
        
        // Der gew端nschte Pointer-Cursor f端r die ganze Sektion
        cursor: pointer !important; 

        // --- TOOLTIP BASIS (Versteckt!) ---
        &::after, &::before {
            opacity: 0 !important;
            visibility: hidden !important;
            pointer-events: none;
            transition: all 0.25s ease-out;
            @apply absolute left-1/2 z-[1100];
            
            // Startposition: 80px rechts und 10px nach oben versetzt
            transform: translateX(calc(-50% + 80px)) translateY(-10px);
        }

        // --- HOVER LOGIK ---
        &:hover {
            @apply bg-white/5;
            
            .navbar-logo {
                transform: scale(1.05);
                filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.4)) !important;
            }

            // Tooltip einblenden
            &::after, &::before {
                opacity: 1 !important;
                visibility: visible !important;
                // Zielposition: 80px rechts, aber translateY auf 0 (slidet runter)
                transform: translateX(calc(-50% + 80px)) translateY(0);
            }
        }

        .navbar-logo {
            @apply h-[35px] transition-transform duration-300;
            filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.25)) !important;
        }

        .navbar-title {
            @apply m-0 text-white;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
        }

        // --- TOOLTIP STYLING ---
        &::after {
            content: "Zum Hauptmen端";
            @apply bg-slate-800 text-white text-[10px] px-3 py-1.5 rounded-md shadow-xl;
            bottom: -45px;
            white-space: nowrap;
            border: 1px solid rgba(255,255,255,0.1);
        }

        // --- TOOLTIP PFEIL ---
        &::before {
            content: "";
            bottom: -15px;
            border-width: 5px;
            border-style: solid;
            border-color: transparent transparent #1e293b transparent;
        }
    }

    .navbar-center {
        @apply absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2;
        pointer-events: none; 

        .status-pill.combined-status {
            @apply inline-flex items-center bg-black/40 py-1.5 px-4 
                   rounded-full border border-white/10 gap-3 shadow-inner;
            pointer-events: auto;

            .indicator-group {
                @apply flex items-center gap-2;
                .indicator-label { @apply text-label text-white/90; }
            }

            .status-dot-small {
                @apply w-2 h-2 rounded-full block shrink-0;
                
                &.online {
                    background-color: #48bb78 !important;
                    box-shadow: 0 0 12px #48bb78, 0 0 5px rgba(72, 187, 120, 0.6) !important;
                }
                &.offline {
                    background-color: #f56565 !important;
                    box-shadow: 0 0 12px #f56565, 0 0 5px rgba(245, 101, 101, 0.6) !important;
                }
                &.warning {
                    background-color: #ecc94b !important;
                    box-shadow: 0 0 12px #ecc94b, 0 0 5px rgba(236, 201, 75, 0.6) !important;
                }
            }

            .status-divider {
                @apply w-[1px] h-3 bg-white/10 block;
                margin: 0 2px;
            }
        }
    }

    .navbar-actions {
        // Sicherstellen, dass die Actions als Flex-Container laufen
        @apply flex items-center z-10;
        display: flex !important;
        gap: 1rem !important; // Das erzeugt den stabilen Abstand zwischen den Buttons
        
        .btn-mode-switch, 
        .btn-view-toggle,
        .link-pill { // .link-pill ist f端r den Projekt-Link
            @apply bg-white/5 text-white/80 border border-white/10 
                   py-1.5 px-4 rounded-full transition-all duration-200 
                   cursor-pointer inline-flex items-center 
                   justify-center whitespace-nowrap;
            
            // Wichtig: Margins auf 0 setzen, damit nur das GAP den Abstand steuert
            margin: 0 !important; 
            text-decoration: none !important;

            &:hover {
                @apply bg-white/10 border-white/30 text-white shadow-sm;
                transform: translateY(-1px) scale(1.03);
            }

            // Falls du Icons in den Buttons hast
            i, span {
                @apply flex items-center;
            }
        }
    }
}